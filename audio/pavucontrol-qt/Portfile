# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.1
PortGroup           github 1.0
PortGroup           qt5 1.0
PortGroup           locale_select 1.0

# last version that builds against Qt5:
github.setup        lxqt pavucontrol-qt 84203392bd6c4b0ad73f66f41e701d35ed3e9987
version             1.4.0.3
fetch.type          git
distname            ${name}-git

categories          audio lxqt
platforms           darwin linux
maintainers         nomaintainer
license             LGPL-2.1

description         A Pulseaudio mixer in Qt

long_description    pavucontrol-qt is the Qt port of the volume control pavucontrol for the sound server PulseAudio.

# for the linquist tools:
qt5.depends_build_component \
                    qttools
depends_build-append \
                    port:lxqt-build-tools

depends_lib-append  port:glib2 \
                    port:liblxqt \
                    port:pulseaudio

patch.pre_args      -Np1
patchfiles-append   patch-support-qt59.diff

langselect_qm_dir   ${destroot}${prefix}/share/${name}/translations
langselect_qm_basename ${name}_

cmake.save_configure_cmd "install log"
