# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 120204 2014-05-19 15:26:03Z nicos@macports.org $

PortSystem          1.0

name                libxkbcommon
version             0.7.0
categories          devel
maintainers         gmail.com:rjvbertin
license             MIT
description         A keyboard description library.
long_description    Xkbcommon is a library to handle keyboard descriptions, including loading them from disk, \
                    parsing them and handling their state. It's mainly meant for client toolkits, window systems, \
                    and other system applications. Currently that includes Wayland, Qt, Clutter and more. \
                    It is also used by some XCB (X11) applications for proper keyboard support.
homepage            https://xkbcommon.org
master_sites        http://xkbcommon.org/download
use_xz              yes
platforms           darwin linux

checksums           rmd160  04628f523e0280ac5e7387db65d24f56e299c26a \
                    sha256  09351592312d67b438655f54da5b67853026662c4a57e6be4d225f04a9989798

installs_libs       yes

depends_build-append \
                    port:bison \
                    port:pkgconfig

depends_lib-append  port:xkeyboard-config

# configure.cmd       ./autogen.sh
configure.args-append \
                    --disable-dependency-tracking \
                    --disable-x11 \
                    --without-doxygen \
                    --disable-docs \
                    --disable-wayland

variant x11 description {enable support for creating keymaps with the X11 protocol} {
    depends_lib-append \
                    port:xorg-libxcb
    configure.args-replace \
                    --disable-x11 \
                    --enable-x11
}

variant docs description {} {
    configure.args-replace \
                    --disable-docs \
                    --enable-docs
}
